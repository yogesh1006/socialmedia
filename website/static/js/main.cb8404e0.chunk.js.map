{"version":3,"sources":["features/user/userSlice.js","features/navbar/Navbar.js","features/navbar/useDetectOutsideClick.js","features/user/Profile.js","features/user/Signin.js","features/user/Signup.js","features/home/Home.js","features/post/postSlice.js","features/post/CreatePost.js","PrivateRoute.js","features/userProfile/UserProfile.js","features/post/FollowingUserPosts.js","App.js","app/store.js","index.js"],"names":["signupUser","createAsyncThunk","values","a","axios","post","process","res","console","log","data","signinUser","localStorage","setItem","token","JSON","stringify","userSlice","createSlice","name","initialState","username","email","user","getItem","parse","isFetching","isSuccess","isError","errorMessage","reducers","getUser","state","logout","removeItem","clearState","extraReducers","pending","fulfilled","action","rejected","payload","message","actions","userSelector","Navbar","history","useHistory","dispatch","useDispatch","useSelector","dropdownRef","useRef","el","useState","isActive","setIsActive","useEffect","onClick","e","current","contains","target","window","addEventListener","removeEventListener","useDetectOutsideClick","className","to","src","alt","ref","clear","push","Profile","allPosts","setAllPosts","image","setImage","fetchAllUserPosts","fetch","method","headers","authorization","response","json","FormData","append","body","then","put","pic","url","catch","err","width","height","type","onChange","file","files","length","followers","following","map","item","index","photo","title","Signin","toast","success","error","formik","useFormik","initialValues","password","validationSchema","Yup","required","max","onSubmit","handleSubmit","htmlFor","id","handleChange","onBlur","handleBlur","value","touched","errors","disabled","isValid","Signup","undefined","setUrl","uploadPic","Home","comment","setComment","fetchAllPosts","get","likeHandler","postId","unlikeHandler","makeComment","text","deletePost","delete","postedBy","_id","likes","includes","comments","placeholder","createPost","postSlice","posts","postSelector","CreatePost","setTitle","setBody","postDetails","PrivateRoute","Component","component","rest","render","props","UserProfile","profile","setProfile","userId","useParams","showfollow","setShowFollow","fetchUserProfile","followUser","followId","user1","unfollowUser","unfollowId","FollowingUserPosts","App","path","exact","store","configureStore","reducer","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.cb8404e0.chunk.js","sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\n\nexport const signupUser = createAsyncThunk(\n  \"users/signupUser\",\n    async (values) => {\n      try {\n         const res = await axios.post(`${process.env.REACT_APP_BACKEND}/register`, values)\n          console.log(res.data);\n          return res.data.data\n      } catch (error) {\n        console.log(error);\n        \n      }\n    } \n);\n\nexport const signinUser = createAsyncThunk(\n  \"users/signinUser\",\n    async (values) => {\n      try {\n         const res = await axios.post(`${process.env.REACT_APP_BACKEND}/login`, values)\n          console.log(res.data);\n          localStorage.setItem(\"token\", res.data.data.token);\n          localStorage.setItem(\"user\", JSON.stringify(res.data.data));\n          return res.data.data\n      } catch (error) {\n        console.log(error);\n        \n      }\n    } \n);\n\nexport const userSlice = createSlice({\n  name: \"user\",\n  initialState: {\n    username: \"\",\n    email: \"\",\n    token: \"\",\n    user: localStorage.getItem(\"user\") ? JSON.parse(localStorage.getItem(\"user\")) : {},\n    isFetching: false,\n    isSuccess: false,\n    isError:false,\n    errorMessage: \"\",\n  },\n  reducers: {\n    getUser: (state) => {\n      // state.token = localStorage.getItem(\"token\");\n      state.user = JSON.parse(localStorage.getItem(\"user\"));\n      state.isSuccess= true;\n      return state\n    },\n    logout: (state) => {\n      state.token = null;\n      state.isSuccess=false;\n      localStorage.removeItem(\"token\");\n      return state\n    },\n    clearState: (state) => {\n      // state.isSuccess = false;\n      state.isFetching = false;\n      state.isError = false;\n      // state.isloggedIn = false;\n      return state;\n    },\n  },\n  extraReducers: {\n    [signupUser.pending]: (state) => {\n      state.isFetching = true;\n    },\n    [signupUser.fulfilled]: (state, action) => {\n      console.log(action);\n      state.isFetching = false;\n      state.isSuccess = true;\n      // state.email = action.payload.email;\n      // state.username = action.payload.name;\n    },\n    [signupUser.rejected]: (state, { payload }) => {\n      state.isFetching = false;\n      state.isSuccess =false;\n      state.isError = true;\n      state.errorMessage = payload.data.message;\n    },\n    [signinUser.pending]: (state) => {\n      state.isFetching = true;\n    },\n    [signinUser.fulfilled]: (state, action )=> {\n      state.email = action.payload.email;\n      state.username = action.payload.name;\n      state.token = action.payload.token;\n      state.user = action.payload;\n      state.isFetching = false;\n      state.isSuccess = true;\n      return state;\n    },\n    [signinUser.rejected]: (state, { payload }) => {\n      console.log(payload);\n      state.isFetching = false;\n      state.isError = true;\n      state.errorMessage = payload.data.message;\n    },\n  \n  },\n});\n\nexport const { clearState, getUser, logout } = userSlice.actions;\n\nexport const userSelector = (state) => state.user;\n","import React, { useRef } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { logout, userSelector } from \"../user/userSlice\";\nimport { useDetectOutsideClick } from \"./useDetectOutsideClick\";\nimport \"../../App.css\";\n\nconst Navbar = () => {\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const { isSuccess, user } = useSelector(userSelector);\n  console.log( isSuccess);\n\n  const dropdownRef = useRef(null);\n  // console.log(dropdownRef);\n  const [isActive, setIsActive] = useDetectOutsideClick(dropdownRef, false);\n  const onClick = () => setIsActive(!isActive);\n\n  return (\n    <>\n      <div className=\"flex justify-between items-center p-4 border-b-4 border-gray-400\">\n        <div className=\"ml-3 text-2xl tracking-wide\">\n          <Link to={localStorage.getItem(\"token\") ? \"/\" : \"/login\"}>\n            Instagram\n          </Link>\n        </div>\n\n        <div className=\"container\">\n          <div className=\"menu-container relative flex justify-center items-center\">\n            <button\n              onClick={onClick}\n              className=\"menu-trigger bg-white flex justify-between items-center px-2 py-2 border-none align-middle shadow transition-shadow ml-auto rounded-lg cursor-pointer hover:shadow-2xl\"\n            >\n              <span className=\"font-bold align-middle text-base my-3 mr-2\">\n                {user.name}\n              </span>\n              <img\n                className=\"rounded-full h-10 w-10\"\n                src=\"https://steamcdn-a.akamaihd.net/steamcommunity/public/images/avatars/df/df7789f313571604c0e4fb82154f7ee93d9989c6.jpg\"\n                alt=\"User avatar\"\n              />\n            </button>\n\n            <nav\n              ref={dropdownRef}\n              className={\n                isActive\n                  ? \"visible opacity-1 transform translate-y-0  bg-white rounded-lg absolute  top-20 right-0 w-60 shadow-2xl py-2\"\n                  : \"bg-white rounded-lg absolute inset-x-0 top-20 right-0 w-60 shadow-md opacity-0 invisible py-2\"\n              }\n              // className={`menu ${isActive ? \"active\" : \"inactive\"}`}\n            >\n              {isSuccess ? (\n                <ul className=\"m-0 p-2 divide-y\">\n                  <li className=\" p-2\">\n                    <Link className=\"block text-black\" to=\"/profile\">\n                      Profile\n                    </Link>\n                  </li>\n                  <li className=\" p-2\">\n                    <Link className=\"block text-black\" to=\"/createpost\">\n                      Create Post\n                    </Link>\n                  </li>\n                  <li className=\" p-2\">\n                    <Link className=\"block text-black\" to=\"/myfollowingposts\">\n                      My following posts\n                    </Link>\n                  </li>\n                  <li className=\"border-b-2 p-2\">\n                    <button\n                      onClick={() => {\n                        localStorage.clear();\n                        dispatch(logout());\n                        history.push(\"/login\");\n                      }}\n                    >\n                        Logout\n                    </button>\n                  </li>\n                </ul>\n              ) : (\n                <ul className=\"m-0 p-2 divide-y\">\n                  <li className=\" p-2\">\n                    <Link className=\"block text-black\" to=\"/login\">\n                      Signin\n                    </Link>\n                  </li>\n                  <li className=\" p-2\">\n                    <Link className=\"block text-black\" to=\"/register\">\n                      Signup\n                    </Link>\n                  </li>\n                </ul>\n              )}\n            </nav>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Navbar;\n\n","import { useState, useEffect } from \"react\";\n\nexport const useDetectOutsideClick = (el, initialState) => {\n  const [isActive, setIsActive] = useState(initialState);\n\n  useEffect(() => {\n    const onClick = e => {\n      // If the active element exists and is clicked outside of\n      if (el.current !== null && !el.current.contains(e.target)) {\n        setIsActive(!isActive);\n      }\n    };\n\n    // If the item is active (ie open) then listen for clicks outside\n    if (isActive) {\n      window.addEventListener(\"click\", onClick);\n    }\n\n    return () => {\n      window.removeEventListener(\"click\", onClick);\n    };\n  }, [isActive, el]);\n\n  return [isActive, setIsActive];\n};\n","import axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { userSelector } from \"./userSlice\";\n\nconst Profile = () => {\n  const [allPosts, setAllPosts] = useState([]);\n  const [image, setImage] = useState(\"\");\n  // const [url, setUrl] = useState(\"\");\n  const { user } = useSelector(userSelector);\n\n  console.log(user);\n  const fetchAllUserPosts = async () => {\n    try {\n      const response = await fetch(\n        `${process.env.REACT_APP_BACKEND}/api/get_user_posts`,\n        {\n          method: \"GET\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            authorization: localStorage.getItem(\"token\"),\n          },\n        }\n      );\n      let data = await response.json();\n      // console.log(data.data);\n      setAllPosts(data.data);\n    } catch (e) {\n      console.log(\"Error\", e.response.data);\n    }\n  };\n  useEffect(() => {\n    fetchAllUserPosts();\n  }, []);\n\n  useEffect(() => {\n    if (image) {\n      const data = new FormData();\n      data.append(\"file\", image);\n      data.append(\"upload_preset\", \"instagram\");\n      data.append(\"cloud_name\", \"pbu\");\n      fetch(\"https://api.cloudinary.com/v1_1/pbu/image/upload\", {\n        method: \"post\",\n        body: data,\n      })\n        .then((res) => res.json())\n        .then((data) => {\n          // setUrl(data.url)\n          let res = axios.put(\n            `${process.env.REACT_APP_BACKEND}/api/update_pic`,\n            {\n              pic: data.url,\n            },\n            {\n              headers: {\n                authorization: localStorage.getItem(\"token\"),\n              },\n            }\n          );\n          console.log(res);\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n    fetchAllUserPosts();\n    //  updatePic()\n    // eslint-disable-next-line\n  }, [image]);\n\n  const updatePhoto = (file) => {\n    setImage(file);\n  };\n  \n  return (\n    <div className=\"flex flex-col justify-center items-center\">\n      <div className=\" flex flex-col items-center justify-center max-w-lg \">\n        <div className=\"flex border-b-2 border-light-blue-500 \">\n          <div className=\"profile-image\">\n            <img\n              className=\"w-32 h-32 m-3 rounded-full border-gray-500 border-2\"\n              src={user.pic}\n              alt=\"\"\n              width=\"384\"\n              height=\"512\"\n            />\n           <div>\n           <input\n                type=\"file\"\n                className=\"ml-6 flex justify-center opacity-0 h-full w-full\"\n                onChange={(e) => updatePhoto(e.target.files[0])}\n              />\n           </div>\n          </div>\n          <div className=\"flex flex-col flex-grow ml-5 \">\n            <div className=\"flex flex-row m-2\">\n              <h1 className=\"mr-4 text-3xl\">{user.name}</h1>\n            </div>\n            {/* <button className=\"ml-3 bg-gray-100 p-3 br-3 border-current\">Edit Profile</button> */}\n\n            <div className=\"flex flex-row my-auto\">\n              <div className=\"mr-2.5\">\n                <span className=\"font-semibold\">{allPosts.length}</span> posts\n              </div>\n              <div className=\"mr-2.5\">\n                <span className=\"font-semibold\">{user.followers.length}</span>{\" \"}\n                followers\n              </div>\n              <div className=\"mr-2.5\">\n                <span className=\"font-semibold\">{user.following.length}</span>{\" \"}\n                following\n              </div>\n            </div>\n\n            {/* <div className=\"flex my-auto\">\n                  <p>\n                      <span className=\"font-semibold\">Jane Doe</span> Lorem ipsum dolor\n                      sit, amet consectetur adipisicing elit{\" \"}\n                  </p>\n                </div> */}\n          </div>\n        </div>\n        <div className=\"mt-4 flex flex-wrap justify-around \">\n          {allPosts.map((item, index) => {\n            return (\n              <img\n                className=\"w-1/4 m-1\"\n                src={item.photo}\n                alt={item.title}\n                key={index}\n              />\n            );\n          })}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Profile;\n","import React, { useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { signinUser, userSelector, clearState } from \"./userSlice\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport toast from \"react-hot-toast\";\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\n\nconst Signin = () => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const { isFetching, isSuccess, errorMessage, isError } =\n    useSelector(userSelector);\n\n  useEffect(() => {\n    return () => {\n      dispatch(clearState());\n    };\n    // eslint-disable-next-line\n  }, []);\n\n  useEffect(() => {\n    if (isSuccess) {\n      toast.success(\"Signin successfull.\");\n      // return dispatch(clearState());\n      history.push(\"/\");\n    }\n\n    if (isError) {\n      toast.error(errorMessage);\n      dispatch(clearState());\n    }\n    // eslint-disable-next-line\n  }, [isSuccess, isError]);\n\n  const formik = useFormik({\n    initialValues: {\n      email: \"\",\n      password: \"\",\n    },\n    validationSchema: Yup.object({\n      email: Yup.string().email(\"Invalid email address\").required(\"Required\"),\n      password: Yup.string()\n        .max(20, \"Must be 20 characters or less\")\n        .required(\"Required\"),\n    }),\n    onSubmit: (values) => {\n      dispatch(signinUser(values));\n    },\n  });\n  return (\n    <form\n      onSubmit={formik.handleSubmit}\n      className=\"flex flex-col items-center h-96  justify-center\"\n    >\n       <div className=\"mb-2\">\n        <h1 className=\"text-3xl underline text-indigo-700\">Signin</h1>\n      </div>\n      <label htmlFor=\"email\" className=\"block  mb-2\">\n        Email Address\n      </label>\n      <input\n        id=\"email\"\n        name=\"email\"\n        type=\"email\"\n        onChange={formik.handleChange}\n        onBlur={formik.handleBlur}\n        value={formik.values.email}\n      />\n      {formik.touched.email && formik.errors.email ? (\n        <div className=\"text-left text-red-500 text-sm\">{formik.errors.email}</div>\n      ) : null}\n\n      <label htmlFor=\"password\" className=\"block  mb-2\">\n        Password\n      </label>\n      <input\n        id=\"password\"\n        name=\"password\"\n        type=\"password\"\n        onChange={formik.handleChange}\n        onBlur={formik.handleBlur}\n        value={formik.values.password}\n      />\n      {formik.touched.password && formik.errors.password ? (\n        <div className=\"text-left text-red-500 text-sm\">{formik.errors.password}</div>\n      ) : null}\n\n      <button\n        type=\"submit\"\n        className=\"px-6 py-2 mt-4 bg-indigo-700 text-white hover:bg-indigo-400\"\n        disabled={!formik.isValid}\n      >\n        Submit\n      </button>\n      <div className=\"mt-4 tracking-wide\">\n        <p>\n          Don't have an Account?\n          <Link to=\"/register\" className=\"text-indigo-700 underline\">\n            {\" \"}\n            Signup\n          </Link>\n        </p>\n      </div>\n      {isFetching && \"Loading...\"}\n    </form>\n  );\n};\n\nexport default Signin;\n\n// const Signin = () => {\n\n//     const [values, setValues] = useState({\n//         email: \"\",\n//         password: \"\",\n//       });\n\n//       const dispatch = useDispatch();\n//       const history = useHistory();\n//       const { isFetching, isSuccess, isError, errorMessage } = useSelector(\n//         userSelector\n//       );\n\n//       useEffect(() => {\n//         return () => {\n//           dispatch(clearState());\n//         };\n//         // eslint-disable-next-line\n//       }, []);\n\n//       useEffect(() => {\n//         if (isError) {\n//           toast.error(errorMessage);\n//           dispatch(clearState());\n//         }\n\n//         if (isSuccess) {\n//           toast.success(\"Signin successfull.\")\n//           dispatch(clearState());\n//           history.push(\"/\");\n//         }\n//         // eslint-disable-next-line\n//       }, [isError, isSuccess]);\n\n//       const handleChange = (name) => (event) => {\n//         setValues({ ...values, [name]: event.target.value });\n//       };\n\n//       const onSubmit = (e) => {\n//         e.preventDefault();\n//         // setValues({...values})\n//         dispatch(signinUser(values));\n//         setValues(\n//           {\n//             email:\"\",\n//             password:\"\",\n//         }\n//         )\n//       }\n\n//   return (\n//     <div>\n//       <form className=\"flex flex-col items-center h-96  justify-center\">\n//         <div>\n//           <h4>Signin</h4>\n//         </div>\n//         <div>\n//           <label className=\"block\">Email</label>\n//           <input\n//             type=\"email\"\n//             name=\"email\"\n//             value={values.email}\n//             onChange={handleChange(\"email\")}\n//           />\n//         </div>\n//         <div>\n//           <label className=\"block\">Password</label>\n//           <input\n//             type=\"password\"\n//             name=\"password\"\n//             value={values.password}\n//             onChange={handleChange(\"password\")}\n//           />\n//         </div>\n//         <button\n//           className=\"px-6 py-2 mt-4 bg-indigo-700 text-white hover:bg-indigo-400\"\n//           onClick={onSubmit}\n//         >\n//           Signin\n//         </button>\n//         <div className=\"mt-4 tracking-wide\">\n//         <p>Don't have an Account?<Link to=\"/register\" className=\"text-indigo\"> Signup</Link></p>\n//       </div>\n//         {isFetching && \"Loading...\"}\n//       </form>\n//     </div>\n//   );\n// };\n\n// export default Signin;\n","import React, { useEffect,useState} from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { signupUser, userSelector, clearState } from \"./userSlice\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport toast from \"react-hot-toast\";\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\n\nconst Signup = () => {\n  const [image,setImage]= useState(\"\")\n  const [url,setUrl]= useState(undefined)\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  useEffect(() => {\n     if(url) {\n      dispatch(signupUser(formik.values))\n    }\n    // eslint-disable-next-line\n  }, [url])\n\n  const uploadPic = ()=>{\n    const data = new FormData()\n      data.append(\"file\",image)\n      data.append(\"upload_preset\",\"instagram\")\n      data.append(\"cloud_name\",\"pbu\")\n      fetch(\"https://api.cloudinary.com/v1_1/pbu/image/upload\",{\n          method:\"post\",\n          body:data\n      })\n      .then(res => res.json())\n      .then(data => {\n          setUrl(data.url)\n      })\n      .catch((err) => {\n          console.log(err);\n      })\n}\n\n  const { isFetching, isSuccess, errorMessage, isError } =\n    useSelector(userSelector);\n\n  useEffect(() => {\n    return () => {\n      dispatch(clearState());\n      // history.push('/login')\n    };\n    // eslint-disable-next-line\n  }, []);\n\n  useEffect(() => {\n    if (isSuccess) {\n      toast.success(\"Signup successfull.\");\n      history.push('/login')\n      dispatch(clearState());\n    }\n\n    if (isError) {\n      toast.error(errorMessage);\n      dispatch(clearState());\n    }\n    // eslint-disable-next-line\n  }, [isSuccess, isError]);\n\n  const formik = useFormik({\n    initialValues: {\n      name: \"\",\n      email: \"\",\n      password: \"\",\n      pic:url\n    },\n    validationSchema: Yup.object({\n      name: Yup.string()\n        .max(15, \"Must be 15 characters or less\")\n        .required(\"Required\"),\n      email: Yup.string().email(\"Invalid email address\").required(\"Required\"),\n      password: Yup.string()\n        .max(20, \"Must be 20 characters or less\")\n        .required(\"Required\"),\n    }),\n    onSubmit: (values) => {\n      if(image) {\n        uploadPic()\n      }else {\n        dispatch(signupUser(values))\n      }\n    },\n  });\n  return (\n    <form onSubmit={formik.handleSubmit} className=\"flex flex-col items-center h-full justify-center\">\n      <div className=\"mb-2\">\n        <h1 className=\"text-3xl underline text-indigo-700\">Signup</h1>\n      </div>\n      <label htmlFor=\"name\" className=\"block  mb-2\"> Name</label>\n      <input\n        id=\"name\"\n        name=\"name\"\n        type=\"text\"\n        onChange={formik.handleChange}\n        onBlur={formik.handleBlur}\n        value={formik.values.name}\n      />\n      {formik.touched.name && formik.errors.name ? (\n        <div className=\"text-left text-red-500 text-sm\">{formik.errors.name}</div>\n      ) : null}\n\n      <label htmlFor=\"email\" className=\"block  mb-2\">Email Address</label>\n      <input\n        id=\"email\"\n        name=\"email\"\n        type=\"email\"\n        onChange={formik.handleChange}\n        onBlur={formik.handleBlur}\n        value={formik.values.email}\n      />\n      {formik.touched.email && formik.errors.email ? (\n        <div className=\"text-left text-red-500 text-sm\">{formik.errors.email}</div>\n      ) : null}\n\n      <label htmlFor=\"password\" className=\"block  mb-2\">Password</label>\n      <input\n        id=\"password\"\n        name=\"password\"\n        type=\"password\"\n        onChange={formik.handleChange}\n        onBlur={formik.handleBlur}\n        value={formik.values.password}\n      />\n      {formik.touched.password && formik.errors.password ? (\n        <div className=\"text-left text-red-500 text-sm\">{formik.errors.password}</div>\n      ) : null}\n\n       <label htmlFor=\"image\" className=\"block  mb-2\">Upload Profile Picture</label>\n       <input\n          id=\"image\"\n          name=\"image\"\n          type=\"file\"\n          className=\"ml-6 flex justify-center\"\n          onChange={(e) => setImage(e.target.files[0])}\n        />\n\n      <button type=\"submit\" className=\"px-6 py-2 mt-4 bg-indigo-700 text-white hover:bg-indigo-400\">Submit</button>\n      <div className=\"mt-4 tracking-wide\">\n        <p>\n          Already Registered?<Link to=\"/login\" className=\"text-indigo-700 underline\"> Signin</Link>\n        </p>\n      </div>\n      {isFetching && \"Loading...\"}\n    </form>\n  );\n};\n\nexport default Signup;","import React, { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { userSelector } from \"../user/userSlice\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\n\nconst Home = () => {\n  const [allPosts, setAllPosts] = useState([]);\n  // console.log(allPosts);\n  const [comment,setComment] = useState(\"\")\n  const { user } = useSelector(userSelector);\n  // console.log(user);\n\n  const fetchAllPosts = async () => {\n    try {\n      const response = await axios.get(\n        `${process.env.REACT_APP_BACKEND}/api/get_all_posts`,\n        {\n          headers: {\n            authorization: localStorage.getItem(\"token\"),\n          },\n        }\n      );\n      // console.log(response);\n      setAllPosts(response.data.data);\n    } catch (err) {\n      console.log(\"Error\", err);\n    }\n  };\n\n  useEffect(() => {\n    fetchAllPosts();\n  }, []);\n\n  const likeHandler = async (id) => {\n    try {\n      const response = await axios.put(\n        `${process.env.REACT_APP_BACKEND}/api/like_post`,\n        {\n          postId: id,\n        },\n        {\n          headers: {\n            authorization: localStorage.getItem(\"token\"),\n          },\n        }\n      );\n      console.log(response);\n      fetchAllPosts();\n    } catch (err) {\n      console.log(\"Error\", err);\n    }\n  };\n\n  const unlikeHandler = async (id) => {\n    try {\n      const response = await axios.put(\n        `${process.env.REACT_APP_BACKEND}/api/unlike_post`,\n        {\n          postId: id,\n        },\n        {\n          headers: {\n            authorization: localStorage.getItem(\"token\"),\n          },\n        }\n      );\n      console.log(response);\n      fetchAllPosts();\n    } catch (err) {\n      console.log(\"Error\", err);\n    }\n  };\n\n  const makeComment = async (text, id) => {\n    try {\n      const res = await axios.put(\n        `${process.env.REACT_APP_BACKEND}/api/add_comment`,\n        {\n          comment: text,\n          postId: id,\n        },\n        {\n          headers: {\n            authorization: localStorage.getItem(\"token\"),\n          },\n        }\n      );\n      console.log(res.data.data);\n      fetchAllPosts();\n      setComment(\"\")\n    } catch (error) {\n      console.log(\"Error\", error);\n    }\n  };\n\n  const deletePost = async (postId) => {\n    console.log(postId);\n    try {\n      const res = await axios.delete(\n        `${process.env.REACT_APP_BACKEND}/api/delete_post/${postId}`,\n        {\n          headers: {\n            authorization: localStorage.getItem(\"token\"),\n          },\n        }\n      );\n      console.log(res.data);\n      fetchAllPosts();\n    } catch (error) {\n      console.log(\"Error\", error);\n    }\n  };\n\n  return (\n    <div className=\"br-4\">\n      {allPosts.map((item, index) => {\n        // console.log(item);\n        return (\n          <div\n            className=\"flex flex-col max-w-lg mx-auto mt-5 br-3 border-current\"\n            key={index}\n          >\n            <div className=\"flex justify-between items-center\">\n              <h5 className=\"p-2\"><Link to={item.postedBy._id !== user._id ? `/profile/${item.postedBy._id}` : \"/profile\"}>{item.postedBy.name}</Link></h5>\n              {item.postedBy._id === user._id && (\n                <i\n                  className=\"fas fa-trash mr-3 cursor-pointer\"\n                  onClick={() => deletePost(item._id)}\n                ></i>\n              )}\n            </div>\n\n            <div>\n              <img\n                className=\"w-full h-80 object-cover\"\n                src={item.photo}\n                alt=\"\"\n              />\n            </div>\n            <div className=\"m-2\">\n              {item.likes.includes(user._id) ? (\n                <i\n                  className=\"far fa-thumbs-down fa-lg\"\n                  onClick={() => unlikeHandler(item._id)}\n                ></i>\n              ) : (\n                <i\n                  className=\"far fa-thumbs-up fa-lg\"\n                  onClick={() => likeHandler(item._id)}\n                ></i>\n              )}\n              <h4>{item.likes.length} likes</h4>\n              <h4 className=\"p-0 m-0\"><span className=\"mr-2 font-semibold\">{item.postedBy.name}</span>{item.title}</h4>\n              <p className=\"p-0 m-0\">{item.body}</p>\n              {item.comments.map((comment) => {\n                return (\n                  <h6 key={comment._id} className=\"font-light\">\n                    <span className=\"mr-2 font-semibold\">\n                      {comment.postedBy.name}\n                    </span>\n                    {comment.text}\n                  </h6>\n                );\n              })}\n              <div className=\"flex justify-between border-4 border-light-blue-500 border-opacity-50\">\n                <input\n                  className=\"focus:outline-none ring-0\"\n                  type=\"text\"\n                  placeholder=\"add a comment\"\n                  value={comment}\n                  onChange={(e) => setComment(e.target.value)}\n                />\n                <i className=\"flex far fa-comment fa-lg items-center cursor-pointer\" onClick={() => makeComment(comment, item._id)}></i>\n              </div>\n            </div>\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\nexport default Home;\n","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\n\nexport const createPost = createAsyncThunk(\n  \"post/createPost\",\n  async ({ title, body, pic }) => {\n    try {\n      const response = await axios.post(\n        `${process.env.REACT_APP_BACKEND}/api/create_post`,\n        {\n          title,\n          body,\n          pic,\n        },\n        {\n          headers: {\n            \"Content-Type\": \"application/json\",\n            authorization: localStorage.getItem(\"token\"),\n          },\n        }\n      );\n      console.log(response);\n      return response.data.data\n    } catch (error) {\n      console.log(\"Error\", error);\n    }\n  }\n);\n\nexport const postSlice = createSlice({\n  name: \"post\",\n  initialState: {\n    posts: [],\n    isFetching: false,\n    isSuccess: false,\n    isError: false,\n    errorMessage: \"\",\n  },\n  reducers: {\n    clearState: (state) => {\n      state.isError = false;\n      state.isSuccess = false;\n      state.isFetching = false;\n\n      return state;\n    },\n  },\n  extraReducers: {\n    [createPost.pending]: (state) => {\n      state.isFetching = true;\n    },\n    [createPost.fulfilled]: (state, action) => {\n      console.log(state);\n      console.log(action);\n      state.posts = action.payload;\n      state.isFetching = false;\n      state.isSuccess = true;\n      return state;\n    },\n    [createPost.rejected]: (state, { payload }) => {\n      state.isFetching = false;\n      state.isError = true;\n      state.errorMessage = payload.data;\n    }\n  },\n});\n\nexport const { clearState } = postSlice.actions;\n\nexport const postSelector = (state) => state.post;\n","import React, { useState, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { createPost, postSelector, clearState } from \"./postSlice\";\nimport { useHistory } from \"react-router-dom\";\nimport toast from \"react-hot-toast\";\n\n\nconst CreatePost = () => {\n  const [title, setTitle] = useState(\"\");\n  const [body, setBody] = useState(\"\");\n  const [image, setImage] = useState(\"\");\n  const [url, setUrl] = useState(\"\");\n\n  \n  const dispatch = useDispatch();\n  const history = useHistory();\n  const { isFetching, isSuccess, isError, errorMessage } = useSelector(\n    postSelector\n  );\n\n\n  // useEffect(() => {\n  //   return () => {\n  //     dispatch(clearState());\n  //   };\n  //   // eslint-disable-next-line\n  // }, []);\n\n  useEffect(() => {\n    if (isError) {\n      toast.error(errorMessage);\n      dispatch(clearState());\n    }\n\n    if (isSuccess) {\n      toast.success(\"Post created successfully.\")\n      dispatch(clearState());\n      history.push(\"/\");\n    }\n    // eslint-disable-next-line\n  }, [isError, isSuccess]);\n\n  useEffect(() => {\n    if(url) {\n    dispatch(createPost({\n      title,\n      body,\n      pic: url,\n    }))\n  }\n  // eslint-disable-next-line\n  },[url])\n\n  const postDetails = () => {\n      const data = new FormData()\n      data.append(\"file\",image)\n      data.append(\"upload_preset\",\"instagram\")\n      data.append(\"cloud_name\",\"pbu\")\n      fetch(\"https://api.cloudinary.com/v1_1/pbu/image/upload\",{\n          method:\"post\",\n          body:data\n      })\n      .then(res => res.json())\n      .then(data => {\n          setUrl(data.url)\n      })\n      .catch((err) => {\n          console.log(err);\n      })\n  }\n\n  return (\n    <div>\n      <div className=\"flex flex-col max-w-lg mx-auto mt-5\">\n        <h4>Create New Post</h4>\n        <input\n          className=\"mt-3\"\n          type=\"text\"\n          placeholder=\"Enter title\"\n          value={title}\n          onChange={(e) => setTitle(e.target.value)}\n        />\n        <input\n          className=\"mt-3\"\n          type=\"text\"\n          placeholder=\"Enter body\"\n          value={body}\n          onChange={(e) => setBody(e.target.value)}\n        />\n        <input\n          className=\"mt-3\"\n          type=\"file\"\n          onChange={(e) => setImage(e.target.files[0])}\n        />\n        <button className=\"px-6 py-2 mt-4 bg-indigo-700 text-white hover:bg-indigo-400\" onClick={() => postDetails()}>\n          Post\n        </button>\n        {isFetching && \"Posting...\"}\n      </div>\n    </div>\n  );\n};\n\nexport default CreatePost;\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\n\nconst PrivateRoute = ({component: Component, ...rest}) => {\n    return (\n\n        <Route {...rest} render={props => (\n            localStorage.getItem('token') ?\n                <Component {...props} />\n            : <Redirect to=\"/login\" />\n        )} />\n    );\n};\n\nexport default PrivateRoute;","import axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useParams } from \"react-router\";\nimport { userSelector } from \"../user/userSlice\";\n\nconst UserProfile = () => {\n  const [profile, setProfile] = useState(null);\n  const { userId } = useParams();\n  const { user } = useSelector(userSelector);\n  // console.log(user);\n  console.log(profile);\n\n  const [showfollow, setShowFollow] = useState(\n   !user.following.includes(userId) ? true : false\n  );\n\n  const fetchUserProfile = async () => {\n    try {\n      const response = await axios.get(\n        `${process.env.REACT_APP_BACKEND}/api/get_userprofile/${userId}`,\n        {\n          headers: {\n            \"Content-Type\": \"application/json\",\n            authorization: localStorage.getItem(\"token\"),\n          },\n        }\n      );\n      // console.log(response);\n      setProfile(response.data);\n    } catch (e) {\n      console.log(\"Error\", e.response.data);\n    }\n  };\n\n  useEffect(() => {\n    fetchUserProfile();\n    // eslint-disable-next-line\n  }, []);\n\n  const followUser = async () => {\n    try {\n      const response = await axios.put(\n        `${process.env.REACT_APP_BACKEND}/api/follow`,\n        {\n          followId: userId,\n        },\n        {\n          headers: {\n            \"Content-Type\": \"application/json\",\n            authorization: localStorage.getItem(\"token\"),\n          },\n        }\n      );\n      console.log(response);\n      fetchUserProfile();\n      localStorage.setItem(\"user\", JSON.stringify(response.data.data.user1));\n      setShowFollow(false)\n    } catch (e) {\n      console.log(\"Error\", e.response.data);\n    }\n  };\n\n  const unfollowUser = async () => {\n    try {\n      const response = await axios.put(\n        `${process.env.REACT_APP_BACKEND}/api/unfollow`,\n        {\n          unfollowId: userId,\n        },\n        {\n          headers: {\n            \"Content-Type\": \"application/json\",\n            authorization: localStorage.getItem(\"token\"),\n          },\n        }\n      );\n      console.log(response);\n      fetchUserProfile();\n      // localStorage.setItem(\"user\", JSON.stringify(response.data.data.user1));\n      setShowFollow(true)\n\n    } catch (e) {\n      console.log(\"Error\", e.response.data);\n    }\n  };\n\n  return (\n    <>\n      {profile ? (\n        <div className=\"flex flex-col justify-center items-center\">\n          <div className=\" flex flex-col items-center justify-center max-w-lg \">\n            <div className=\"flex border-b-2 border-light-blue-500 \">\n              <div className=\"profile-image\">\n                <img\n                  className=\"w-32 h-32 m-3 rounded-full border-gray-500 border-2\"\n                  src=\"https://images.unsplash.com/photo-1513721032312-6a18a42c8763?w=152&h=152&fit=crop&crop=faces\"\n                  alt=\"\"\n                  width=\"384\"\n                  height=\"512\"\n                />\n              </div>\n              <div className=\"flex flex-col flex-grow ml-5 \">\n                <div className=\"flex flex-row m-2\">\n                  <h1 className=\"mr-4 text-3xl\">{profile.user.name}</h1>\n\n                  <button className=\"ml-3 bg-gray-100 p-3 br-3 border-current\">\n                    Edit Profile\n                  </button>\n                </div>\n\n                <div className=\"flex flex-row my-auto\">\n                  <div className=\"mr-2.5\">\n                    <span className=\"font-semibold\">\n                      {profile.posts.length}\n                    </span>{\" \"}\n                    posts\n                  </div>\n                  <div className=\"mr-2.5\">\n                    <span className=\"font-semibold\">\n                      {profile.user.followers.length}\n                    </span>{\" \"}\n                    followers\n                  </div>\n                  <div className=\"mr-2.5\">\n                    <span className=\"font-semibold\">\n                      {profile.user.following.length}\n                    </span>{\" \"}\n                    following\n                  </div>\n                </div>\n\n                <div className=\"flex my-auto\">\n                  {showfollow ? (\n                    <>\n                      <button\n                        onClick={() => followUser()}\n                        className=\"px-6 py-2 mt-4 bg-indigo-700 text-white hover:bg-indigo-400\"\n                      >\n                        Follow\n                      </button>\n                    </>\n                  ) : (\n                    <button\n                      onClick={() => unfollowUser()}\n                      className=\"px-6 py-2 mt-4 bg-indigo-700 text-white hover:bg-indigo-400\"\n                    >\n                      Unfollow\n                    </button>\n                  )}\n                </div>\n              </div>\n            </div>\n            <div className=\"mt-4 flex flex-wrap justify-around \">\n              {profile.posts.map((item, index) => {\n                return (\n                  <img\n                    className=\"w-1/4 m-1\"\n                    src={item.photo}\n                    alt={item.title}\n                    key={index}\n                  />\n                );\n              })}\n            </div>\n          </div>\n        </div>\n      ) : (\n        <h2>Loading...</h2>\n      )}\n    </>\n  );\n};\n\nexport default UserProfile;\n","import React, { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { userSelector } from \"../user/userSlice\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\n\nconst FollowingUserPosts = () => {\n  const [allPosts, setAllPosts] = useState([]);\n  console.log(allPosts);\n  const [comment,setComment] = useState(\"\")\n  const { user } = useSelector(userSelector);\n  // console.log(user);\n\n  const fetchAllPosts = async () => {\n    try {\n      const response = await axios.get(\n        `${process.env.REACT_APP_BACKEND}/api/get_otheruser_posts`,\n        {\n          headers: {\n            authorization: localStorage.getItem(\"token\"),\n          },\n        }\n      );\n      console.log(response);\n      setAllPosts(response.data.data);\n    } catch (err) {\n      console.log(\"Error\", err);\n    }\n  };\n\n  useEffect(() => {\n    fetchAllPosts();\n  }, []);\n\n  const likeHandler = async (id) => {\n    try {\n      const response = await axios.put(\n        `${process.env.REACT_APP_BACKEND}/api/like_post`,\n        {\n          postId: id,\n        },\n        {\n          headers: {\n            authorization: localStorage.getItem(\"token\"),\n          },\n        }\n      );\n      console.log(response);\n      fetchAllPosts();\n    } catch (err) {\n      console.log(\"Error\", err);\n    }\n  };\n\n  const unlikeHandler = async (id) => {\n    try {\n      const response = await axios.put(\n        `${process.env.REACT_APP_BACKEND}/api/unlike_post`,\n        {\n          postId: id,\n        },\n        {\n          headers: {\n            authorization: localStorage.getItem(\"token\"),\n          },\n        }\n      );\n      console.log(response);\n      fetchAllPosts();\n    } catch (err) {\n      console.log(\"Error\", err);\n    }\n  };\n\n  const makeComment = async (text, id) => {\n    try {\n      const res = await axios.put(\n        `${process.env.REACT_APP_BACKEND}/api/add_comment`,\n        {\n          comment: text,\n          postId: id,\n        },\n        {\n          headers: {\n            authorization: localStorage.getItem(\"token\"),\n          },\n        }\n      );\n      console.log(res.data.data);\n      fetchAllPosts();\n      setComment(\"\")\n    } catch (error) {\n      console.log(\"Error\", error);\n    }\n  };\n\n  const deletePost = async (postId) => {\n    console.log(postId);\n    try {\n      const res = await axios.delete(\n        `${process.env.REACT_APP_BACKEND}/api/delete_post/${postId}`,\n        {\n          headers: {\n            authorization: localStorage.getItem(\"token\"),\n          },\n        }\n      );\n      console.log(res.data);\n      fetchAllPosts();\n    } catch (error) {\n      console.log(\"Error\", error);\n    }\n  };\n\n  return (\n    <div className=\"br-4\">\n      {allPosts.map((item, index) => {\n        // console.log(item);\n        return (\n          <div\n            className=\"flex flex-col max-w-lg mx-auto mt-5 br-3 border-current\"\n            key={index}\n          >\n            <div className=\"flex justify-between items-center\">\n              <h5 className=\"p-2\"><Link to={item.postedBy._id !== user._id ? `/profile/${item.postedBy._id}` : \"/profile\"}>{item.postedBy.name}</Link></h5>\n              {item.postedBy._id === user._id && (\n                <i\n                  className=\"fas fa-trash mr-3 cursor-pointer\"\n                  onClick={() => deletePost(item._id)}\n                ></i>\n              )}\n            </div>\n\n            <div>\n              <img\n                className=\"w-full h-80 object-cover\"\n                src={item.photo}\n                alt=\"\"\n              />\n            </div>\n            <div className=\"m-2\">\n              {item.likes.includes(user._id) ? (\n                <i\n                  className=\"far fa-thumbs-down fa-lg\"\n                  onClick={() => unlikeHandler(item._id)}\n                ></i>\n              ) : (\n                <i\n                  className=\"far fa-thumbs-up fa-lg\"\n                  onClick={() => likeHandler(item._id)}\n                ></i>\n              )}\n              <h4>{item.likes.length} likes</h4>\n              <h4 className=\"p-0 m-0\"><span className=\"mr-2 font-semibold\">{item.postedBy.name}</span>{item.title}</h4>\n              <p className=\"p-0 m-0\">{item.body}</p>\n              {item.comments.map((comment) => {\n                return (\n                  <h6 key={comment._id} className=\"font-light\">\n                    <span className=\"mr-2 font-semibold\">\n                      {comment.postedBy.name}\n                    </span>\n                    {comment.text}\n                  </h6>\n                );\n              })}\n              <div className=\"flex justify-between border-4 border-light-blue-500 border-opacity-50\">\n                <input\n                  className=\"focus:outline-none ring-0\"\n                  type=\"text\"\n                  placeholder=\"add a comment\"\n                  value={comment}\n                  onChange={(e) => setComment(e.target.value)}\n                />\n                <i className=\"flex far fa-comment fa-lg items-center cursor-pointer\" onClick={() => makeComment(comment, item._id)}></i>\n              </div>\n            </div>\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\nexport default FollowingUserPosts;\n","import React, {useEffect} from \"react\";\nimport { Switch, Route, useHistory } from \"react-router\";\nimport Navbar from \"./features/navbar/Navbar\";\nimport Profile from \"./features/user/Profile\";\nimport Signin from \"./features/user/Signin\";\nimport Signup from \"./features/user/Signup\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport { Toaster } from \"react-hot-toast\";\nimport Home from \"./features/home/Home\";\nimport CreatePost from \"./features/post/CreatePost\";\nimport PrivateRoute from \"./PrivateRoute\";\nimport { useDispatch } from \"react-redux\";\nimport {getUser} from \"./features/user/userSlice\"\nimport UserProfile from \"./features/userProfile/UserProfile\";\nimport FollowingUserPosts from \"./features/post/FollowingUserPosts\";\n\nfunction App() {\n  const history = useHistory()\n  const dispatch = useDispatch();\n  useEffect(()=>{\n    const user = JSON.parse(localStorage.getItem(\"user\"))\n    if(user){\n      dispatch(getUser())\n    }else {\n      history.push(\"/login\")\n    }\n    // eslint-disable-next-line\n  },[])\n\n  return (\n    <div className=\"App\">\n      <Navbar />\n       <Toaster/>\n      <Switch>\n        <Route path=\"/register\" component={Signup}></Route>\n        <Route path=\"/login\" component={Signin}></Route>\n        <Route path=\"/profile/:userId\" component={UserProfile}></Route>\n\n        <PrivateRoute exact path=\"/\" component={Home}></PrivateRoute>\n        <PrivateRoute exact path=\"/profile\" component={Profile}></PrivateRoute>\n        <PrivateRoute path=\"/createpost\" component={CreatePost}></PrivateRoute>\n        <PrivateRoute path=\"/myfollowingposts\" component={FollowingUserPosts}></PrivateRoute>\n\n      </Switch>\n    </div>\n  );\n}\n\nexport default App;\n","import { configureStore } from '@reduxjs/toolkit';\nimport {userSlice} from '../features/user/userSlice'\nimport {postSlice} from '../features/post/postSlice'\n\nexport const store = configureStore({\n  reducer: {\n    user: userSlice.reducer,\n    post: postSlice.reducer,\n  },\n});\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { store } from './app/store';\nimport {BrowserRouter as Router} from 'react-router-dom'\nimport { Provider } from 'react-redux';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <Router>\n      <App />\n      </Router>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}