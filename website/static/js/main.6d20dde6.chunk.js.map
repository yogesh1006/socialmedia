{"version":3,"sources":["features/user/userSlice.js","features/navbar/Navbar.js","features/navbar/useDetectOutsideClick.js","features/profile/profileSlice.js","features/profile/Profile.js","features/user/Signin.js","features/user/Signup.js","PrivateRoute.js","features/profile/UserProfile.js","features/feed/feedSlice.js","features/post/postSlice.js","features/post/CreatePost.js","features/feed/Home.js","config/AxiosConfig.js","App.js","app/store.js","index.js"],"names":["signupUser","createAsyncThunk","values","a","rejectWithValue","axios","post","process","res","data","response","signinUser","localStorage","setItem","token","JSON","stringify","userSlice","createSlice","name","initialState","user","getItem","parse","isFetching","isSuccess","isError","errorMessage","reducers","getUser","state","logout","removeItem","clearState","extraReducers","pending","fulfilled","action","rejected","payload","message","actions","userSelector","Navbar","history","useHistory","dispatch","useDispatch","useSelector","dropdownRef","useRef","el","useState","isActive","setIsActive","useEffect","onClick","e","current","contains","target","window","addEventListener","removeEventListener","useDetectOutsideClick","className","to","src","alt","ref","clear","push","getUserPosts","value","get","uploadPic","put","pic","profileSlice","posts","profile","status","error","resetProfile","profileSelector","Profile","image","setImage","FormData","append","fetch","method","body","then","json","url","unwrap","toast","success","catch","err","console","log","type","id","hidden","onChange","file","files","htmlFor","length","followers","following","map","item","index","photo","title","Signin","formik","useFormik","initialValues","email","password","validationSchema","Yup","required","max","onSubmit","handleSubmit","handleChange","onBlur","handleBlur","touched","errors","disabled","isValid","color","height","width","Signup","PrivateRoute","Component","component","rest","render","props","UserProfile","setProfile","userId","useParams","includes","showfollow","setShowFollow","fetchUserProfile","headers","authorization","followUser","followId","user1","unfollowUser","unfollowId","getAllPosts","getFollowingUserPosts","likeHandler","postId","unlikeHandler","deletePost","delete","makeComment","comment","text","feedSlice","resetFeed","feedSelector","feed","createPost","postSlice","postSelector","CreatePost","setTitle","setBody","setUrl","setPost","placeholder","postDetails","Home","div","setDiv","setCreatePost","setComment","postedBy","_id","Date","created_at","toDateString","likes","comments","size","interceptors","request","use","req","Promise","reject","App","path","exact","store","configureStore","reducer","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6d20dde6.chunk.js","sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\n\nexport const signupUser = createAsyncThunk(\n  \"users/signupUser\",\n    async (values, {rejectWithValue}) => {\n      try {\n         const res = await axios.post(`${process.env.REACT_APP_BACKEND}/register`, values)\n          return res.data.data\n      } catch (error) {\n        return rejectWithValue(error.response.data)\n        \n      }\n    } \n);\n\nexport const signinUser = createAsyncThunk(\n  \"users/signinUser\",\n    async (values,{rejectWithValue}) => {\n      try {\n         const res = await axios.post(`${process.env.REACT_APP_BACKEND}/login`, values)\n          localStorage.setItem(\"token\", res.data.data.token);\n          localStorage.setItem(\"user\", JSON.stringify(res.data.data));\n          return res.data.data\n      } catch (error) {\n        return rejectWithValue(error.response.data)\n        \n      }\n    } \n);\n\nexport const userSlice = createSlice({\n  name: \"user\",\n  initialState: {\n    user: localStorage.getItem(\"user\") ? JSON.parse(localStorage.getItem(\"user\")) : {},\n    isFetching: \"\",\n    isSuccess: false,\n    isError:false,\n    errorMessage: \"\",\n  },\n  reducers: {\n    getUser: (state) => {\n      state.user = JSON.parse(localStorage.getItem(\"user\"));\n      state.isSuccess= true;\n      return state\n    },\n    logout: (state) => {\n      state.token = null;\n      state.isSuccess=false;\n      localStorage.removeItem(\"token\");\n      return state\n    },\n    clearState: (state) => {\n      // state.isSuccess = false;\n      state.isFetching = false;\n      state.isError = false;\n      // state.isloggedIn = false;\n      return state;\n    },\n  },\n  extraReducers: {\n    [signupUser.pending]: (state) => {\n      state.isFetching = true;\n    },\n    [signupUser.fulfilled]: (state, action) => {\n      state.isFetching = false;\n      state.isSuccess = true;\n    },\n    [signupUser.rejected]: (state, { payload }) => {\n      state.isFetching = false;\n      state.isSuccess =false;\n      state.isError = true;\n      state.errorMessage = payload.data.message;\n    },\n    [signinUser.pending]: (state) => {\n      state.isFetching = true;\n    },\n    [signinUser.fulfilled]: (state, action )=> {\n      state.user = action.payload;\n      state.isFetching = false;\n      state.isSuccess = true;\n      return state;\n    },\n    [signinUser.rejected]: (state, { payload }) => {\n      state.isFetching = false;\n      state.isError = true;\n      state.errorMessage = payload.message;\n    },\n  \n  },\n});\n\nexport const { clearState, getUser, logout } = userSlice.actions;\n\nexport const userSelector = (state) => state.user;\n","import React, { useRef } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { logout, userSelector } from \"../user/userSlice\";\nimport { useDetectOutsideClick } from \"./useDetectOutsideClick\";\nimport \"../../App.css\";\n\nconst Navbar = () => {\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const { isSuccess, user } = useSelector(userSelector);\n\n  const dropdownRef = useRef(null);\n  const [isActive, setIsActive] = useDetectOutsideClick(dropdownRef, false);\n  const onClick = () => setIsActive(!isActive);\n\n  return (\n    <>\n      <div className=\"flex justify-between items-center p-4 bg-indigo-400\">\n        <div className=\"ml-3 text-2xl tracking-wide\">\n          <Link to={localStorage.getItem(\"token\") ? \"/\" : \"/login\"} className=\"text-3xl underline text-white\">\n            Frndzs\n          </Link>\n        </div>\n\n        <div className=\"container\">\n          <div className=\"menu-container relative flex justify-center items-center\">\n            <button\n              onClick={onClick}\n              className=\"menu-trigger bg-white flex justify-between items-center px-2 py-2 border-none align-middle shadow transition-shadow ml-auto rounded-lg cursor-pointer hover:shadow-2xl\"\n            >\n              <span className=\"font-bold align-middle text-base my-3 mr-2\">\n                {isSuccess && user.name }\n              </span>\n              <img\n                className=\"rounded-full h-10 w-10\"\n                src=\"https://steamcdn-a.akamaihd.net/steamcommunity/public/images/avatars/df/df7789f313571604c0e4fb82154f7ee93d9989c6.jpg\"\n                alt=\"User avatar\"\n              />\n            </button>\n\n            <nav\n              ref={dropdownRef}\n              className={\n                isActive\n                  ? \"visible opacity-1 transform translate-y-0  bg-white rounded-lg absolute  top-20 right-0 w-60 shadow-2xl py-2\"\n                  : \"bg-white rounded-lg absolute inset-x-0 top-20 right-0 w-60 shadow-md opacity-0 invisible py-2\"\n              }\n              // className={`menu ${isActive ? \"active\" : \"inactive\"}`}\n            >\n              {isSuccess ? (\n                <ul className=\"m-0 p-2 divide-y\">\n                  <li className=\" p-2\">\n                    <Link className=\"block text-black\" to=\"/profile\">\n                      Profile\n                    </Link>\n                  </li>\n                  {/* <li className=\" p-2\">\n                    <Link className=\"block text-black\" to=\"/myfollowingposts\">\n                      My following posts\n                    </Link>\n                  </li> */}\n                  <li className=\"border-b-2 p-2\">\n                    <button\n                      onClick={() => {\n                        localStorage.clear();\n                        dispatch(logout());\n                        history.push(\"/login\");\n                      }}\n                    >\n                        Logout\n                    </button>\n                  </li>\n                </ul>\n              ) : (\n                <ul className=\"m-0 p-2 divide-y\">\n                  <li className=\" p-2\">\n                    <Link className=\"block text-black\" to=\"/login\">\n                      Signin\n                    </Link>\n                  </li>\n                  <li className=\" p-2\">\n                    <Link className=\"block text-black\" to=\"/register\">\n                      Signup\n                    </Link>\n                  </li>\n                </ul>\n              )}\n            </nav>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Navbar;\n\n","import { useState, useEffect } from \"react\";\n\nexport const useDetectOutsideClick = (el, initialState) => {\n  const [isActive, setIsActive] = useState(initialState);\n\n  useEffect(() => {\n    const onClick = e => {\n      // If the active element exists and is clicked outside of\n      if (el.current !== null && !el.current.contains(e.target)) {\n        setIsActive(!isActive);\n      }\n    };\n\n    // If the item is active (ie open) then listen for clicks outside\n    if (isActive) {\n      window.addEventListener(\"click\", onClick);\n    }\n\n    return () => {\n      window.removeEventListener(\"click\", onClick);\n    };\n  }, [isActive, el]);\n\n  return [isActive, setIsActive];\n};\n","import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\n\nexport const getUserPosts = createAsyncThunk(\n  \"feed/getuserposts\",\n  async (value, { rejectWithValue }) => {\n    try {\n      const res = await axios.get(\n        `${process.env.REACT_APP_BACKEND}/api/get_user_posts`\n      );\n      return res.data.data;\n    } catch (error) {\n      return rejectWithValue(error.response.data);\n    }\n  }\n);\n\nexport const uploadPic = createAsyncThunk(\n  \"feed/uploadpic\",\n  async (value, { rejectWithValue }) => {\n    try {\n      const res = await axios.put(\n        `${process.env.REACT_APP_BACKEND}/api/update_pic`,\n        {\n          pic: value,\n        }\n      );\n      return res.data.data;\n    } catch (error) {\n      return rejectWithValue(error.response.data);\n    }\n  }\n);\n\nexport const getUser = createAsyncThunk(\n  \"feed/getuser\",\n  async (value, { rejectWithValue }) => {\n    try {\n      const res = await axios.get(\n        `${process.env.REACT_APP_BACKEND}/api/get_user`\n      );\n      return res.data.data;\n    } catch (error) {\n      return rejectWithValue(error.response.data);\n    }\n  }\n);\n\nexport const profileSlice = createSlice({\n  name: \"profile\",\n  initialState: {\n    posts: [],\n    profile: {},\n    status: \"idle\",\n    error: null,\n  },\n  reducers: {\n    resetProfile(state, action) {\n      state.posts = [];\n      state.user = {};\n      state.status = \"idle\";\n      state.error = null;\n    },\n  },\n  extraReducers: {\n    [getUserPosts.pending]: (state, action) => {\n      state.status = \"loading\";\n    },\n    [getUserPosts.fulfilled]: (state, action) => {\n      state.posts = action.payload;\n    },\n    [getUser.pending]: (state, action) => {\n      state.status = \"loading\";\n    },\n    [getUser.fulfilled]: (state, action) => {\n      state.profile = action.payload;\n    },\n  },\n});\n\nexport const { resetProfile } = profileSlice.actions;\nexport const profileSelector = (state) => state.profile;\n","import React, { useEffect, useState } from \"react\";\nimport toast from \"react-hot-toast\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport {\n  getUserPosts,\n  getUser,\n  profileSelector,\n  uploadPic,\n} from \"./profileSlice\";\nimport { userSelector } from \"../user/userSlice\";\n\nconst Profile = () => {\n  const [image, setImage] = useState(\"\");\n  const { user } = useSelector(userSelector);\n  const { profile, posts } = useSelector(profileSelector);\n  const dispatch = useDispatch();\n  // console.log(profile ,posts);\n\n  useEffect(() => {\n    if (user.token !== null) {\n      (async function () {\n        await dispatch(getUserPosts());\n      })();\n    }\n    // eslint-disable-next-line\n  }, [user.token]);\n\n  useEffect(() => {\n    if (user.token !== null) {\n      (async function () {\n        await dispatch(getUser());\n      })();\n    }\n    // eslint-disable-next-line\n  }, [user.token]);\n\n  useEffect(() => {\n    if (image) {\n      const data = new FormData();\n      data.append(\"file\", image);\n      data.append(\"upload_preset\", \"instagram\");\n      data.append(\"cloud_name\", \"pbu\");\n      fetch(\"https://api.cloudinary.com/v1_1/pbu/image/upload\", {\n        method: \"post\",\n        body: data,\n      })\n        .then((res) => res.json())\n        .then((data) => {\n          dispatch(uploadPic(data.url))\n            .unwrap()\n            .then((res) => {\n              toast.success(res.data.message);\n            })\n            .catch((err) => console.log(err));\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n    // eslint-disable-next-line\n  }, [image]);\n\n  const updatePhoto = (file) => {\n    setImage(file);\n  };\n\n  return (\n    <div className=\"flex flex-col justify-center items-center \">\n      <div className=\" flex flex-col items-center justify-center max-w-2xl\">\n        <div className=\"flex border-b-2 border-light-blue-500 \">\n          <div className=\"profile-image\">\n            <img\n              className=\"w-40 max-w-4 h-auto m-3 rounded-full object-cover border-gray-500 border-2\"\n              src={profile.pic}\n              alt=\"profilepic\"\n            />\n            <div>\n              <input\n                type=\"file\"\n                id=\"actual-btn\"\n                hidden\n                onChange={(e) => updatePhoto(e.target.files[0])}\n              />\n\n              <label\n                className=\"bg-blue-400 p-1 align-center\"\n                htmlFor=\"actual-btn\"\n              >\n              Upload\n              </label>\n            </div>\n          </div>\n\n          <div className=\"flex flex-col flex-grow justify-start ml-5 \">\n            <div className=\"flex flex-row p-2\">\n              <h1 className=\" text-3xl\">{user.name}</h1>\n            </div>\n            <div className=\"flex flex-row my-auto\">\n              <div className=\"mr-2.5\">\n                <span className=\"font-semibold\">{posts.length}</span> posts\n              </div>\n              <div className=\"mr-2.5\">\n                <span className=\"font-semibold\">{user.followers.length}</span>{\" \"}\n                followers\n              </div>\n              <div className=\"mr-2.5\">\n                <span className=\"font-semibold\">{user.following.length}</span>{\" \"}\n                following\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"mt-4 flex flex-row flex-wrap justify-start gap-1 md:gap-2\">\n          {posts.map((item, index) => {\n            return (\n              <img\n                className=\"w-36 md:w-1/3\"\n                src={item.photo}\n                alt={item.title}\n                key={index}\n              />\n            );\n          })}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Profile;\n","import { useSelector, useDispatch } from \"react-redux\";\nimport { signinUser, userSelector } from \"./userSlice\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport toast from \"react-hot-toast\";\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\nimport Loader from \"react-loader-spinner\";\n\nconst Signin = () => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const { isFetching } = useSelector(userSelector);\n\n  const formik = useFormik({\n    initialValues: {\n      email: \"test@gmail.com\",\n      password: \"Test@123\",\n    },\n    validationSchema: Yup.object({\n      email: Yup.string().email(\"Invalid email address\").required(\"Required\"),\n      password: Yup.string()\n        .max(20, \"Must be 20 characters or less\")\n        .required(\"Required\"),\n    }),\n    onSubmit: (values) => {\n      dispatch(signinUser(values))\n        .unwrap()\n        .then((res) => {\n          toast.success(\"Signin Successfull.\");\n          history.push(\"/\");\n        })\n        .catch((err) => toast.success(err.message));\n    },\n  });\n\n  return (\n    <>\n      <form\n        onSubmit={formik.handleSubmit}\n        className=\"flex flex-col items-center h-96  justify-center\"\n      >\n        <div className=\"mb-2\">\n          <h1 className=\"text-3xl underline text-indigo-700\">Signin</h1>\n        </div>\n        <label htmlFor=\"email\" className=\"block  mb-2\">\n          Email Address\n        </label>\n        <input\n          id=\"email\"\n          name=\"email\"\n          type=\"email\"\n          onChange={formik.handleChange}\n          onBlur={formik.handleBlur}\n          value={formik.values.email}\n        />\n        {formik.touched.email && formik.errors.email ? (\n          <div className=\"text-left text-red-500 text-sm\">\n            {formik.errors.email}\n          </div>\n        ) : null}\n\n        <label htmlFor=\"password\" className=\"block  mb-2\">\n          Password\n        </label>\n        <input\n          id=\"password\"\n          name=\"password\"\n          type=\"password\"\n          onChange={formik.handleChange}\n          onBlur={formik.handleBlur}\n          value={formik.values.password}\n        />\n        {formik.touched.password && formik.errors.password ? (\n          <div className=\"text-left text-red-500 text-sm\">\n            {formik.errors.password}\n          </div>\n        ) : null}\n\n        <button\n          type=\"submit\"\n          className=\"px-6 py-2 mt-4 bg-indigo-700 text-white hover:bg-indigo-400\"\n          disabled={!formik.isValid}\n        >\n          Login\n        </button>\n        <div className=\"mt-4 tracking-wide\">\n          <p>\n            Don't have an Account?\n            <Link to=\"/register\" className=\"text-indigo-700 underline\">\n              {\" \"}\n              Signup\n            </Link>\n          </p>\n        </div>\n      </form>\n      {isFetching && (\n        <div className=\"flex flex-col justify-center items-center absolute inset-0 z-10\">\n          {\" \"}\n          <Loader type=\"TailSpin\" color=\"#00BFFF\" height={70} width={70} />\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default Signin;\n","import { useSelector, useDispatch } from \"react-redux\";\nimport { signupUser, userSelector } from \"./userSlice\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport toast from \"react-hot-toast\";\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\nimport Loader from \"react-loader-spinner\";\n\nconst Signup = () => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const { isFetching } = useSelector(userSelector);\n\n  const formik = useFormik({\n    initialValues: {\n      name: \"\",\n      email: \"\",\n      password: \"\",\n    },\n    validationSchema: Yup.object({\n      name: Yup.string()\n        .max(15, \"Must be 15 characters or less\")\n        .required(\"Required\"),\n      email: Yup.string().email(\"Invalid email address\").required(\"Required\"),\n      password: Yup.string()\n        .max(20, \"Must be 20 characters or less\")\n        .required(\"Required\"),\n    }),\n    onSubmit: (values) => {\n        dispatch(signupUser(values))\n          .unwrap()\n          .then((res) => {\n            toast.success(\"Signup successfull.\");\n            history.push(\"/login\");\n          })\n          .catch((err) => console.log(err));\n      }\n    },\n  );\n  return (\n    <form\n      onSubmit={formik.handleSubmit}\n      className=\"flex flex-col items-center h-full justify-center\"\n    >\n      <div className=\"mb-2\">\n        <h1 className=\"text-3xl underline text-indigo-700\">Signup</h1>\n      </div>\n      <label htmlFor=\"name\" className=\"block  mb-2\">\n        {\" \"}\n        Name\n      </label>\n      <input\n        id=\"name\"\n        name=\"name\"\n        type=\"text\"\n        onChange={formik.handleChange}\n        onBlur={formik.handleBlur}\n        value={formik.values.name}\n      />\n      {formik.touched.name && formik.errors.name ? (\n        <div className=\"text-left text-red-500 text-sm\">\n          {formik.errors.name}\n        </div>\n      ) : null}\n\n      <label htmlFor=\"email\" className=\"block  mb-2\">\n        Email Address\n      </label>\n      <input\n        id=\"email\"\n        name=\"email\"\n        type=\"email\"\n        onChange={formik.handleChange}\n        onBlur={formik.handleBlur}\n        value={formik.values.email}\n      />\n      {formik.touched.email && formik.errors.email ? (\n        <div className=\"text-left text-red-500 text-sm\">\n          {formik.errors.email}\n        </div>\n      ) : null}\n\n      <label htmlFor=\"password\" className=\"block  mb-2\">\n        Password\n      </label>\n      <input\n        id=\"password\"\n        name=\"password\"\n        type=\"password\"\n        onChange={formik.handleChange}\n        onBlur={formik.handleBlur}\n        value={formik.values.password}\n      />\n      {formik.touched.password && formik.errors.password ? (\n        <div className=\"text-left text-red-500 text-sm\">\n          {formik.errors.password}\n        </div>\n      ) : null}\n\n      <button\n        type=\"submit\"\n        className=\"px-6 py-2 mt-4 bg-indigo-700 text-white hover:bg-indigo-400\"\n      >\n        Signup\n      </button>\n      <div className=\"mt-4 tracking-wide\">\n        <p>\n          Already Registered?\n          <Link to=\"/login\" className=\"text-indigo-700 underline\">\n            {\" \"}\n            Signin\n          </Link>\n        </p>\n      </div>\n      {isFetching && (\n        <div className=\"flex flex-col justify-center items-center absolute inset-0 z-10\">\n          {\" \"}\n          <Loader type=\"TailSpin\" color=\"#00BFFF\" height={70} width={70} />\n        </div>\n      )}\n    </form>\n  );\n};\n\nexport default Signup;\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\n\nconst PrivateRoute = ({component: Component, ...rest}) => {\n    return (\n\n        <Route {...rest} render={props => (\n            localStorage.getItem('token') ?\n                <Component {...props} />\n            : <Redirect to=\"/login\" />\n        )} />\n    );\n};\n\nexport default PrivateRoute;","import axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useParams } from \"react-router\";\nimport { userSelector } from \"../user/userSlice\";\n\nconst UserProfile = () => {\n  const [profile, setProfile] = useState(null);\n  const { userId } = useParams();\n  const { user } = useSelector(userSelector);\n \n\n  const [showfollow, setShowFollow] = useState(\n   !user.following.includes(userId) ? true : false\n  );\n\n  const fetchUserProfile = async () => {\n    try {\n      const response = await axios.get(\n        `${process.env.REACT_APP_BACKEND}/api/get_userprofile/${userId}`,\n        {\n          headers: {\n            \"Content-Type\": \"application/json\",\n            authorization: localStorage.getItem(\"token\"),\n          },\n        }\n      );\n      setProfile(response.data);\n    } catch (e) {\n      console.log(\"Error\", e.response.data);\n    }\n  };\n\n  useEffect(() => {\n    fetchUserProfile();\n    // eslint-disable-next-line\n  }, []);\n\n  const followUser = async () => {\n    try {\n      const response = await axios.put(\n        `${process.env.REACT_APP_BACKEND}/api/follow`,\n        {\n          followId: userId,\n        },\n        {\n          headers: {\n            \"Content-Type\": \"application/json\",\n            authorization: localStorage.getItem(\"token\"),\n          },\n        }\n      );\n      fetchUserProfile();\n      localStorage.setItem(\"user\", JSON.stringify(response.data.data.user1));\n      setShowFollow(false)\n    } catch (e) {\n      console.log(\"Error\", e.response.data);\n    }\n  };\n\n  const unfollowUser = async () => {\n    try {\n      await axios.put(\n        `${process.env.REACT_APP_BACKEND}/api/unfollow`,\n        {\n          unfollowId: userId,\n        },\n        {\n          headers: {\n            \"Content-Type\": \"application/json\",\n            authorization: localStorage.getItem(\"token\"),\n          },\n        }\n      );\n      fetchUserProfile();\n      // localStorage.setItem(\"user\", JSON.stringify(response.data.data.user1));\n      setShowFollow(true)\n\n    } catch (e) {\n      console.log(\"Error\", e.response.data);\n    }\n  };\n\n  return (\n    <>\n      {profile ? (\n        <div className=\"flex flex-col justify-center items-center\">\n          <div className=\" flex flex-col items-center justify-center max-w-lg \">\n            <div className=\"flex border-b-2 border-light-blue-500 \">\n              <div className=\"profile-image\">\n                <img\n                  className=\"w-32 h-32 m-3 rounded-full border-gray-500 border-2\"\n                  src=\"https://images.unsplash.com/photo-1513721032312-6a18a42c8763?w=152&h=152&fit=crop&crop=faces\"\n                  alt=\"\"\n                  width=\"384\"\n                  height=\"512\"\n                />\n              </div>\n              <div className=\"flex flex-col flex-grow ml-5 \">\n                <div className=\"flex flex-row m-2\">\n                  <h1 className=\"mr-4 text-3xl\">{profile.user.name}</h1>\n                </div>\n\n                <div className=\"flex flex-row my-auto\">\n                  <div className=\"mr-2.5\">\n                    <span className=\"font-semibold\">\n                      {profile.posts.length}\n                    </span>{\" \"}\n                    posts\n                  </div>\n                  <div className=\"mr-2.5\">\n                    <span className=\"font-semibold\">\n                      {profile.user.followers.length}\n                    </span>{\" \"}\n                    followers\n                  </div>\n                  <div className=\"mr-2.5\">\n                    <span className=\"font-semibold\">\n                      {profile.user.following.length}\n                    </span>{\" \"}\n                    following\n                  </div>\n                </div>\n\n                <div className=\"flex my-auto\">\n                  {showfollow ? (\n                    <>\n                      <button\n                        onClick={() => followUser()}\n                        className=\"px-6 py-2 mt-4 bg-indigo-700 text-white hover:bg-indigo-400\"\n                      >\n                        Follow\n                      </button>\n                    </>\n                  ) : (\n                    <button\n                      onClick={() => unfollowUser()}\n                      className=\"px-6 py-2 mt-4 bg-indigo-700 text-white hover:bg-indigo-400\"\n                    >\n                      Unfollow\n                    </button>\n                  )}\n                </div>\n              </div>\n            </div>\n            <div className=\"mt-4 flex flex-wrap justify-around \">\n              {profile.posts.map((item, index) => {\n                return (\n                  <img\n                    className=\"w-1/4 m-1\"\n                    src={item.photo}\n                    alt={item.title}\n                    key={index}\n                  />\n                );\n              })}\n            </div>\n          </div>\n        </div>\n      ) : (\n        <h2>Loading...</h2>\n      )}\n    </>\n  );\n};\n\nexport default UserProfile;\n","import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\n\nexport const getAllPosts = createAsyncThunk(\n  \"feed/getallposts\",\n  async (value, { rejectWithValue }) => {\n    try {\n      const res = await axios.get(\n        `${process.env.REACT_APP_BACKEND}/api/get_all_posts`\n      );\n      return res.data.data;\n    } catch (error) {\n      return rejectWithValue(error.response.data);\n    }\n  }\n);\n\nexport const getFollowingUserPosts = createAsyncThunk(\n  \"feed/getallfollowinguserposts\",\n  async (value, { rejectWithValue }) => {\n    try {\n      const res = await axios.get(\n        `${process.env.REACT_APP_BACKEND}/api/get_otheruser_posts`\n      );\n      return res.data.data;\n    } catch (error) {\n      return rejectWithValue(error.response.data);\n    }\n  }\n);\n\nexport const likeHandler = createAsyncThunk(\n  \"feed/likepost\",\n  async (id, { rejectWithValue }) => {\n    try {\n      const response = await axios.put(\n        `${process.env.REACT_APP_BACKEND}/api/like_post`,\n        {\n          postId: id,\n        }\n      );\n      return response.data;\n    } catch (err) {\n      return rejectWithValue(err.response.data);\n    }\n  }\n);\n\nexport const unlikeHandler = createAsyncThunk(\n  \"feed/unlikepost\",\n  async (id, { rejectWithValue }) => {\n    try {\n      const response = await axios.put(\n        `${process.env.REACT_APP_BACKEND}/api/unlike_post`,\n        {\n          postId: id,\n        }\n      );\n      return response.data;\n    } catch (err) {\n      return rejectWithValue(err.response.data);\n    }\n  }\n);\n\nexport const deletePost = createAsyncThunk(\n  \"feed/deletepost\",\n  async (postId, { rejectWithValue }) => {\n    try {\n      const response = await axios.delete(\n        `${process.env.REACT_APP_BACKEND}/api/delete_post/${postId}`\n      );\n      return response.data;\n    } catch (err) {\n      return rejectWithValue(err.response.data);\n    }\n  }\n);\n\nexport const makeComment = createAsyncThunk(\n  \"feed/makecomment\",\n  async (value, { rejectWithValue }) => {\n    try {\n      const response = await axios.put(\n        `${process.env.REACT_APP_BACKEND}/api/add_comment`,\n        {\n          comment: value.text,\n          postId: value.id,\n        }\n      );\n      return response.data;\n    } catch (err) {\n      return rejectWithValue(err.response.data);\n    }\n  }\n);\n\nexport const feedSlice = createSlice({\n  name: \"feed\",\n  initialState: {\n    posts: [],\n    status: \"idle\",\n    error: null,\n  },\n  reducers: {\n    resetFeed(state, action) {\n      state.posts = [];\n      state.status = \"idle\";\n      state.error = null;\n    },\n  },\n  extraReducers: {\n    [getAllPosts.pending]: (state, action) => {\n      state.status = \"loading\";\n    },\n    [getAllPosts.fulfilled]: (state, action) => {\n      state.posts = action.payload;\n    },\n    [getFollowingUserPosts.pending]: (state, action) => {\n      state.status = \"loading\";\n    },\n    [getFollowingUserPosts.fulfilled]: (state, action) => {\n      state.posts = action.payload;\n    },\n    [likeHandler.fulfilled]: (state, action) => {\n      state.posts = action.payload.data;\n    },\n    [unlikeHandler.fulfilled]: (state, action) => {\n      state.posts = action.payload.data;\n    },\n    [deletePost.fulfilled]: (state, action) => {\n      state.posts = action.payload;\n    },\n    [makeComment.fulfilled]: (state, action) => {\n      state.posts = action.payload.data;\n    },\n  },\n});\n\nexport const { resetFeed } = feedSlice.actions;\nexport const feedSelector = (state) => state.feed;\n","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\n\nexport const createPost = createAsyncThunk(\n  \"post/createPost\",\n  async ({ title, body, pic },{rejectWithValue}) => {\n    try {\n      const response = await axios.post(\n        `${process.env.REACT_APP_BACKEND}/api/create_post`,\n        {\n          title,\n          body,\n          pic,\n        }\n      );\n      return response.data.data\n    } catch (error) {\n      return rejectWithValue(error.response.data);\n    }\n  }\n);\n\nexport const postSlice = createSlice({\n  name: \"post\",\n  initialState: {\n    posts: [],\n    isFetching: false,\n    isSuccess: false,\n    isError: false,\n    errorMessage: \"\",\n  },\n  reducers: {\n    clearState: (state) => {\n      state.isError = false;\n      state.isSuccess = false;\n      state.isFetching = false;\n\n      return state;\n    },\n  },\n  extraReducers: {\n    [createPost.pending]: (state) => {\n      state.isFetching = true;\n    },\n    [createPost.fulfilled]: (state, action) => {\n      state.posts = action.payload;\n      state.isFetching = false;\n      state.isSuccess = true;\n    },\n    [createPost.rejected]: (state, { payload }) => {\n      state.isFetching = false;\n      state.isError = true;\n      state.errorMessage = payload.data;\n    }\n  },\n});\n\nexport const { clearState } = postSlice.actions;\n\nexport const postSelector = (state) => state.post;\n","import React, { useState, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { createPost, postSelector, clearState } from \"./postSlice\";\nimport { useHistory } from \"react-router-dom\";\nimport toast from \"react-hot-toast\";\nimport Loader from \"react-loader-spinner\";\n\nconst CreatePost = (props) => {\n  const [title, setTitle] = useState(\"\");\n  const [body, setBody] = useState(\"\");\n  const [image, setImage] = useState(\"\");\n  const [url, setUrl] = useState(\"\");\n  console.log(props);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const { isFetching, isSuccess, isError, errorMessage } =\n    useSelector(postSelector);\n\n  useEffect(() => {\n    if (isError) {\n      toast.error(errorMessage);\n      dispatch(clearState());\n    }\n\n    if (isSuccess) {\n      toast.success(\"Post created successfully.\");\n      dispatch(clearState());\n      history.push(\"/\");\n    }\n    // eslint-disable-next-line\n  }, [isError, isSuccess]);\n\n  useEffect(() => {\n    if (url) {\n      dispatch(\n        createPost({\n          title,\n          body,\n          pic: url,\n        })\n      );\n    }\n    // eslint-disable-next-line\n  }, [url]);\n\n  const postDetails = () => {\n    const data = new FormData();\n    data.append(\"file\", image);\n    data.append(\"upload_preset\", \"instagram\");\n    data.append(\"cloud_name\", \"pbu\");\n    fetch(\"https://api.cloudinary.com/v1_1/pbu/image/upload\", {\n      method: \"post\",\n      body: data,\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        setUrl(data.url);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n  return (\n    <div\n      className=\"\n     flex flex-col  p-6 max-w-2xl mx-auto mt-2 border border-gray-500 rounded-lg border-current\"\n    >\n      <div className=\"flex justify-between items-center\">\n        <h4>Create New Post</h4>\n        <button onClick={() => props.setPost(false)}>close</button>\n      </div>\n\n      <input\n        className=\"mt-3\"\n        type=\"text\"\n        placeholder=\"Write something special about the post.\"\n        value={title}\n        onChange={(e) => setTitle(e.target.value)}\n      />\n      <input\n        className=\"mt-3\"\n        type=\"text\"\n        placeholder=\"What do you want to talk about?\"\n        value={body}\n        onChange={(e) => setBody(e.target.value)}\n      />\n      <input\n        className=\"mt-3\"\n        type=\"file\"\n        onChange={(e) => setImage(e.target.files[0])}\n      />\n      <button\n        className=\"px-6 py-2 mt-4 bg-indigo-700 text-white hover:bg-indigo-400\"\n        onClick={() => postDetails()}\n      >\n        Post\n      </button>\n      {isFetching && (\n        <div className=\"flex flex-col justify-center items-center absolute inset-0 z-10\">\n          <Loader type=\"TailSpin\" color=\"#00BFFF\" height={70} width={70} />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default CreatePost;\n","import React, { useEffect, useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { userSelector } from \"../user/userSlice\";\nimport { feedSelector } from \"../feed/feedSlice\";\nimport { Link } from \"react-router-dom\";\nimport {\n  getAllPosts,\n  likeHandler,\n  unlikeHandler,\n  deletePost,\n  makeComment,\n} from \"./feedSlice\";\nimport { profileSelector } from \"../profile/profileSlice\";\nimport Loader from \"react-loader-spinner\";\nimport CreatePost from \"../post/CreatePost\";\n\nconst Home = () => {\n  const [div, setDiv] = useState(false);\n  const [createPost, setCreatePost] = useState(false);\n  const [comment, setComment] = useState(\"\");\n  const { user, isFetching } = useSelector(userSelector);\n  const { posts } = useSelector(feedSelector);\n  const { profile } = useSelector(profileSelector);\n  console.log(profile);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (user.token !== null) {\n      (async function () {\n        await dispatch(getAllPosts());\n      })();\n    }\n    // eslint-disable-next-line\n  }, [user.token]);\n\n  const likeHandlerCall = (id) => {\n    dispatch(likeHandler(id));\n  };\n\n  const unlikeHandlerCall = (id) => {\n    dispatch(unlikeHandler(id));\n  };\n\n  const deletePostCall = (postId) => {\n    dispatch(deletePost(postId));\n  };\n\n  const makeCommentCall = (text, id) => {\n    dispatch(makeComment({ text, id }));\n    setComment(\"\");\n  };\n\n  const createPostDiv = () => {\n    createPost === false ? setCreatePost(true) : setCreatePost(false);\n  };\n\n  return (\n    <>\n      {isFetching && (\n        <div className=\"flex flex-col justify-center items-center absolute inset-0 z-10\">\n          {\" \"}\n          <Loader type=\"TailSpin\" color=\"#00BFFF\" height={70} width={70} />\n        </div>\n      )}\n      <div className=\"flex flex-col  p-6 max-w-2xl mx-auto mt-2 border border-gray-500 rounded-lg border-current\">\n        <button\n          onClick={createPostDiv}\n          className=\"justify-center items-center border border-gray-500 rounded-lg border-current bg-gray-300 p-3\"\n        >\n          Write a post.\n        </button>\n      </div>\n\n      {createPost && (\n        <CreatePost createPost={createPost} setPost={setCreatePost} />\n      )}\n\n      {posts.map((item, index) => {\n        return (\n          <div\n            className=\"flex flex-col max-w-2xl mx-auto mt-2 border border-gray-500 rounded-lg border-current\"\n            key={index}\n          >\n            <div className=\"flex justify-between items-center\">\n              <div className=\"flex flex-row items-center\">\n                <img\n                  src={item.photo}\n                  className=\"rounded-full w-16 h-16 object-cover m-1\"\n                  alt=\"img\"\n                />\n                <div className=\"flex flex-col justify-center items-start ml-2\">\n                  <h5 className=\"font-bold\">\n                    <Link\n                      to={\n                        item.postedBy._id !== user._id\n                          ? `/profile/${item.postedBy._id}`\n                          : \"/profile\"\n                      }\n                    >\n                      {item.postedBy.name}\n                    </Link>\n                  </h5>\n                  <small> {new Date(item.created_at).toDateString()}</small>\n                </div>\n              </div>\n              {item.postedBy._id === user._id && (\n                <i\n                  className=\"fas fa-trash mr-3 cursor-pointer\"\n                  onClick={() => deletePostCall(item._id)}\n                ></i>\n              )}\n            </div>\n            <div className=\"flex flex-col justify-start m-3\">\n              <h4 className=\"p-0 m-0 \">\n                <span className=\"mr-2 font-semibold tracking-wide\">\n                  {item.title}\n                </span>\n              </h4>\n              <p className=\"p-0 m-0\">{item.body}</p>\n            </div>\n\n            <div>\n              <img\n                className=\"w-full h-auto object-cover max-w-2xl rounded-sm border-gray-500\"\n                src={item.photo}\n                alt=\"\"\n              />\n            </div>\n\n            <div className=\"flex p-3 gap-x-3\">\n              {item.likes.includes(user._id) ? (\n                <i\n                  className=\"far fa-thumbs-down fa-lg cursor-pointer\"\n                  onClick={() => unlikeHandlerCall(item._id)}\n                ></i>\n              ) : (\n                <i\n                  className=\"far fa-thumbs-up fa-lg cursor-pointer\"\n                  onClick={() => likeHandlerCall(item._id)}\n                ></i>\n              )}\n              <span> {item.likes.length}</span>\n              <button\n                onClick={() => {\n                  div === true ? setDiv(false) : setDiv(true);\n                }}\n              >\n                <span>\n                  <i className=\"far fa-comment-alt fa-lg\"></i>\n                </span>{\" \"}\n                Comment\n              </button>\n            </div>\n            <div className=\"m-2\">\n              {item.comments.map((comment) => {\n                return (\n                  <h6 key={comment._id} className=\"font-light truncate\">\n                    <span className=\"mr-2 font-semibold\">\n                      {comment.postedBy.name}\n                    </span>\n                    {comment.text}\n                  </h6>\n                );\n              })}\n              {div && (\n                <div className=\"flex justify-between border-opacity-50\">\n                  <input\n                    className=\" focus:outline-none border-none focus:border-gray-400 rounded-full\"\n                    type=\"text\"\n                    size={9}\n                    placeholder=\"Add a comment...\"\n                    value={comment}\n                    onChange={(e) => setComment(e.target.value)}\n                  />\n                  <button\n                    className=\"bg-indigo-400 p-3 rounded-xl\"\n                    onClick={() => makeCommentCall(comment, item._id)}\n                  >\n                    comment\n                  </button>\n                </div>\n              )}\n            </div>\n          </div>\n        );\n      })}\n    </>\n  );\n};\n\nexport default Home;\n","import axios from \"axios\";\n\n\n(function (axios) {\n    axios.interceptors.request.use(function (req) {\n        if(req.url.includes('api')){\n        req.headers.authorization = localStorage.getItem('token');\n        }\n        return req\n    }, function (error) {\n        // Do something with\n        return Promise.reject(error);\n    });\n})(axios);","import React, { useEffect } from \"react\";\nimport { Switch, Route, useHistory } from \"react-router\";\nimport Navbar from \"./features/navbar/Navbar\";\nimport Profile from \"./features/profile/Profile\";\nimport Signin from \"./features/user/Signin\";\nimport Signup from \"./features/user/Signup\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport { Toaster } from \"react-hot-toast\";\nimport PrivateRoute from \"./PrivateRoute\";\nimport { useDispatch } from \"react-redux\";\nimport { getUser } from \"./features/user/userSlice\";\nimport UserProfile from \"./features/profile/UserProfile\";\nimport Home from \"./features/feed/Home\";\nimport \"./config/AxiosConfig\";\nimport \"./App.css\";\n\nfunction App() {\n  const history = useHistory();\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n    if (user) {\n      dispatch(getUser());\n    } else {\n      history.push(\"/login\");\n    }\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <div className=\"App mb-5\">\n      <Navbar />\n      <Toaster />\n      <Switch>\n        <Route path=\"/register\" component={Signup}></Route>\n        <Route path=\"/login\" component={Signin}></Route>\n        <PrivateRoute path=\"/profile/:userId\" component={UserProfile}></PrivateRoute>\n\n        <PrivateRoute exact path=\"/\" component={Home}></PrivateRoute>\n        <PrivateRoute exact path=\"/profile\" component={Profile}></PrivateRoute>\n        {/* <PrivateRoute path=\"/myfollowingposts\" component={FollowingUsersPost} ></PrivateRoute> */}\n      </Switch>\n    </div>\n  );\n}\n\nexport default App;\n","import { configureStore } from '@reduxjs/toolkit';\nimport {userSlice} from '../features/user/userSlice'\nimport {postSlice} from '../features/post/postSlice'\nimport {feedSlice}  from '../features/feed/feedSlice'\nimport {profileSlice} from \"../features/profile/profileSlice\"\n\nexport const store = configureStore({\n  reducer: {\n    user: userSlice.reducer,\n    post: postSlice.reducer,\n    feed: feedSlice.reducer,\n    profile: profileSlice.reducer,\n  },\n});\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { store } from './app/store';\nimport {BrowserRouter as Router} from 'react-router-dom'\nimport { Provider } from 'react-redux';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <Router>\n      <App />\n      </Router>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}